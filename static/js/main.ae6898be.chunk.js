(this["webpackJsonptodos-app"]=this["webpackJsonptodos-app"]||[]).push([[0],{121:function(e,t,a){},122:function(e,t,a){e.exports=a.p+"static/media/preloader.7869e84b.svg"},123:function(e,t,a){e.exports={preloader:"Preloader_preloader__Kjxcy"}},149:function(e,t,a){e.exports=a(258)},17:function(e,t,a){e.exports={FormTodoItem:"FormTodoItem_FormTodoItem__3yGeh",containerField:"FormTodoItem_containerField__3nb_l",active:"FormTodoItem_active__wEB2F",field:"FormTodoItem_field__1TCfd",containerBtn:"FormTodoItem_containerBtn__P6ZJg",btn:"FormTodoItem_btn__FPyt3",send:"FormTodoItem_send__3mYwj",cancel:"FormTodoItem_cancel__3RdaR"}},18:function(e,t,a){e.exports={Navbar:"Navbar_Navbar__8ZwUj",list:"Navbar_list__38HTJ",item:"Navbar_item__giOMD",link:"Navbar_link__2mXtU",active:"Navbar_active__1JSu1"}},23:function(e,t,a){e.exports={TodoItem:"TodoItem_TodoItem__1FjjO",check:"TodoItem_check__t644Q",success:"TodoItem_success__3y7zN",todoBody:"TodoItem_todoBody__kCQoU",btn:"TodoItem_btn__1eviJ",change:"TodoItem_change__3nMFv",delete:"TodoItem_delete__2uRQK"}},255:function(e,t,a){},256:function(e,t,a){},257:function(e,t,a){},258:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),o=a(59),r=a.n(o),i=a(9),l=a(32),s=a(31),d=a(2),m=a(118),u=Object(s.b)({name:"todos",initialState:{initialized:!1},reducers:{initializedSuccess:function(e,t){e.initialized=!0}}}),b=u.actions.initializedSuccess,_=u.reducer,v=a(50),f=a(64),p=Object(s.b)({name:"todo",initialState:{todoList:JSON.parse(localStorage.getItem("todoList"))||[],sortType:"date",allSortType:["date","done"],isReverseSort:!1},reducers:{sendTodoItem:function(e,t){var a={text:t.payload.text,id:+"".concat(Date.now()),completed:!1};e.todoList=[].concat(Object(f.a)(e.todoList),[a])},changeTodoItemText:function(e,t){var a=t.payload,n=a.text,c=a.id;e.todoList=e.todoList.map((function(e){return e.id===c?Object(v.a)(Object(v.a)({},e),{},{text:n}):e}))},toggleCompleted:function(e,t){var a=t.payload.id;e.todoList=e.todoList.map((function(e){return e.id===a?Object(v.a)(Object(v.a)({},e),{},{completed:!e.completed}):e}))},deleteTodoItem:function(e,t){var a=t.payload.id;e.todoList=e.todoList.filter((function(e){return e.id!==a}))},sortBy:function(e,t){var a=t.payload.sort;e.sortType=a},doReverseSort:function(e,t){var a=t.payload.isReverseSort;e.isReverseSort=a}}}),g=p.actions,E=g.sendTodoItem,O=g.changeTodoItemText,j=g.toggleCompleted,T=g.deleteTodoItem,N=g.sortBy,h=g.doReverseSort,C=p.reducer,F=Object(d.c)({app:_,todo:C,form:m.a});var x=Object(s.a)({reducer:F}),y=a(22),I=a(8),k=a(10),S=a(85),A=a.n(S),B=Object(d.d)(n.memo)((function(e){var t=e.type,a=(Object(k.a)(e,["type"]),Object(i.c)()),n=Object(i.d)((function(e){return e.todo})),o=n.sortType,r=n.isReverseSort;return c.a.createElement("button",{className:"".concat(A.a.SortBtn," ").concat(t===o?A.a.active:""),onClick:function(){return a(N({sort:e=t})),void a(h(o===e?{isReverseSort:!r}:{isReverseSort:!1}));var e}},t)})),L=a(38),R=a.n(L),z=Object(d.d)(n.memo)((function(e){var t=Object.assign({},e),a=Object(i.d)((function(e){return e.todo})).allSortType,o=Object(n.useState)(!1),r=Object(y.a)(o,2),l=r[0],s=r[1],d={toggleIsOpen:function(){s((function(e){return!e}))}};return c.a.createElement(c.a.Fragment,null,l&&c.a.createElement("div",{className:"".concat(R.a.overlay),onClick:d.toggleIsOpen}),c.a.createElement("section",{className:"".concat(R.a.Controls)},c.a.createElement("button",{className:"".concat(R.a.openControls),onClick:d.toggleIsOpen},c.a.createElement("span",{className:"visually-hidden"},"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0443"),c.a.createElement("span",{className:"".concat(R.a.dot)})),l&&c.a.createElement(c.a.Fragment,null,c.a.createElement("section",{className:"".concat(R.a.controlsList),onClick:d.toggleIsOpen},a.map((function(e){return c.a.createElement(B,Object.assign({key:e,type:e},t))}))))))})),w=a(65),J=a.n(w),q=Object(d.d)(n.memo)((function(e){var t=e.setActiveField,a=Object(k.a)(e,["setActiveField"]);return c.a.createElement("button",Object.assign({className:"".concat(J.a.BtnAddTodo),onClick:function(){return t(1)}},a),c.a.createElement("span",{className:"".concat(J.a.iconAdd)}),c.a.createElement("span",{className:"".concat(J.a.btnBody)},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443"))})),D=a(62),P=a(116),M=a(117),Q=a(39),Y=a.n(Q),H=function(e){var t=e.input,a=e.meta,n=e.children,o=e.required,r=(Object(k.a)(e,["input","meta","children","required"]),o&&a.touched&&a.error||t.value.length>0&&a.error);return c.a.createElement(c.a.Fragment,null,n,c.a.createElement("span",{error:r||void 0,className:"".concat(Y.a.formControl," ").concat(r?Y.a.error:"")},r&&c.a.createElement("span",{className:Y.a.textError},a.error)))},K={textarea:function(e){var t=Object.assign({},e);return c.a.createElement(H,t,c.a.createElement("textarea",Object.assign({className:Y.a.text},t.input,t)))},input:function(e){var t=Object.assign({},e);return c.a.createElement(H,Object.assign({required:"true"},t),c.a.createElement("input",Object.assign({className:Y.a.text},t.input,t)))}},X=a(17),U=a.n(X),Z=Object(d.d)(Object(M.a)({form:"FormTodoItem",enableReinitialize:!0}),n.memo)((function(e){var t=e.text,a=void 0===t?"":t,o=e.active,r=void 0===o||o,l=e.saveFieldClick,s=e.handleSubmit,d=e.initialize,m=e.setActiveField,u=(Object(k.a)(e,["text","active","saveFieldClick","handleSubmit","initialize","setActiveField"]),Object(i.c)()),b=Object(n.useRef)(null),_=Object(n.useRef)(null),v=Object(n.useState)(!1),f=Object(y.a)(v,2),p=f[0],g=f[1],O=Object(n.useState)(a),j=Object(y.a)(O,2),T=j[0],N=j[1];Object(n.useEffect)((function(){d({todo:T})}),[T]),Object(n.useEffect)((function(){r&&(h.focusField(),h.setCursorPosition(_,b.current.textContent.length))}),[r]),Object(n.useEffect)((function(){b.current.innerText=a,h.setCursorPosition(_,b.current.textContent.length)}),[a]);var h={onSubmit:function(e){a?(l(T),m(null)):(u(E({text:e.todo})),u(Object(D.a)("FormTodoItem")),N(""),b.current.innerText="",b.current.focus())},changeField:function(e){N(e.target.innerText)},toggleFocus:function(){g((function(e){return!e}))},focusField:function(){b.current.focus()},cancel:function(){b.current.innerText=a,N(a),m(null),a||u(Object(D.a)("FormTodoItem"))},setCursorPosition:function(e,t){for(var a=e.current.firstChild;t>0;){var n=a.textContent.length;if(t>n)t-=n,a=a.nextSibling;else{if(3===a.nodeType)return document.getSelection().collapse(a,t);a=a.firstChild}}}},C=function(e){return function(t){return t&&t.length>e?"Max length is ".concat(e," symbols"):void 0}}(2e3);return c.a.createElement("form",{className:"".concat(U.a.FormTodoItem),onSubmit:s(h.onSubmit)},c.a.createElement("div",{className:"\n\t\t\t\t\t".concat(U.a.containerField,"\n\t\t\t\t\t").concat(p?U.a.active:"","\n\t\t\t\t"),ref:_,onClick:h.focusField},c.a.createElement("div",{className:"".concat(U.a.field),onSelect:function(e){return h.changeField(e)},onFocus:h.toggleFocus,onBlur:h.toggleFocus,contentEditable:"true",ref:b}),c.a.createElement(P.a,{className:"visually-hidden",validate:[C],component:K.input,type:"text",name:"todo",placeholder:"New todo",autoComplete:"off"})),c.a.createElement("div",{className:"".concat(U.a.containerBtn)},a?c.a.createElement("button",{className:"".concat(U.a.btn," ").concat(U.a.send)},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"):c.a.createElement("button",{className:"".concat(U.a.btn," ").concat(U.a.send)},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443"),c.a.createElement("button",{className:"".concat(U.a.btn," ").concat(U.a.cancel),onClick:function(){h.cancel(),m(null)},type:"button"},"\u041e\u0442\u043c\u0435\u043d\u0430")))})),G=Object(d.d)(n.memo)((function(e){var t=e.activeField,a=e.setActiveField;Object(k.a)(e,["activeField","setActiveField"]);return 1===t?c.a.createElement(Z,{setActiveField:a}):c.a.createElement(q,{setActiveField:a})})),V=a(23),W=a.n(V),$=Object(d.d)(n.memo)((function(e){var t=e.setActiveField,a=e.active,o=e.text,r=e.id,l=e.completed,s=(Object(k.a)(e,["setActiveField","active","text","id","completed"]),Object(i.c)()),d=Object(n.useRef)(null),m={changeField:function(e){s(O({text:e,id:r}))},toggleCompleted:function(){s(j({id:r}))},deleteTodoItem:function(e){s(T({id:e}))}};return a?c.a.createElement(Z,{text:o,id:r,active:a,saveFieldClick:m.changeField,setActiveField:t}):c.a.createElement("li",{className:"".concat(W.a.TodoItem)},c.a.createElement("label",{className:"\n                    ".concat(W.a.check," \n                    ").concat(l?W.a.success:"")},c.a.createElement("input",{className:"visually-hidden",checked:l,type:"checkbox",onChange:m.toggleCompleted})),c.a.createElement("div",{className:"".concat(W.a.todoBody),ref:d,onClick:m.toggleCompleted,onDoubleClick:function(){return t(r)},onChange:function(e){return m.changeField(e.target.value,r)}},o),c.a.createElement("button",{className:"\n                    ".concat(W.a.btn," \n                    ").concat(W.a.change),onClick:function(){return t(r)}},"change"),c.a.createElement("button",{className:"\n                    ".concat(W.a.btn," \n                    ").concat(W.a.delete),onClick:function(){return m.deleteTodoItem(r)}},"\xd7"))})),ee=a(13),te=function(e){return e.todo.todoList},ae=function(e){return e.todo.sortType},ne=function(e){return e.todo.isReverseSort},ce=Object(ee.a)(te,ae,ne,(function(e,t,a){var n=Object(f.a)(e);switch(t){case"date":n.sort((function(e,t){return e.id-t.id}));break;case"done":n.sort((function(e,t){return e.completed-t.completed}))}return a?n.reverse():n})),oe=a(121),re=a.n(oe),ie=Object(d.d)(n.memo)((function(e){var t=e.activeField,a=e.setActiveField,o=(Object(k.a)(e,["activeField","setActiveField"]),Object(i.d)(ce));return Object(n.useEffect)((function(){localStorage.setItem("todoList",JSON.stringify(o))}),[o]),c.a.createElement("ul",{className:"".concat(re.a.TodoList)},o.map((function(e){return c.a.createElement($,Object.assign({active:t===e.id,setActiveField:a,key:e.id},e))})))})),le=a(67),se=a.n(le),de=Object(d.d)(n.memo)((function(e){Object.assign({},e);var t=Object(n.useState)(null),a=Object(y.a)(t,2),o=a[0],r=a[1];return c.a.createElement("section",{className:"".concat(se.a.Inbox)},c.a.createElement("div",{className:"".concat(se.a.headerContainer)},c.a.createElement("h2",{className:"".concat(se.a.title)},"\u0412\u0445\u043e\u0434\u044f\u0449\u0438\u0435"),c.a.createElement(z,null)),c.a.createElement(ie,{activeField:o,setActiveField:r}),c.a.createElement(G,{activeField:o,setActiveField:r}))})),me=a(88),ue=a.n(me),be=Object(d.d)(n.memo)((function(e){Object.assign({},e);return c.a.createElement("section",{className:"".concat(ue.a.Today)},c.a.createElement("h2",{className:"".concat(ue.a.title," mb-4")},"\u0421\u0435\u0433\u043e\u0434\u043d\u044f"))})),_e=a(89),ve=a.n(_e),fe=Object(d.d)(n.memo)((function(e){Object.assign({},e);return c.a.createElement("section",{className:"".concat(ve.a.Calendar)},c.a.createElement("h2",{className:"".concat(ve.a.title," mb-4")},"\u041f\u0440\u0435\u0434\u0441\u0442\u043e\u044f\u0449\u0435\u0435"))})),pe=a(18),ge=a.n(pe),Ee=Object(d.d)(n.memo)((function(e){var t=Object.assign({},e);return c.a.createElement("nav",{className:"".concat(t.className," ").concat(ge.a.Navbar)},c.a.createElement("ul",{className:"".concat(ge.a.list)},c.a.createElement("li",{className:"".concat(ge.a.item)},c.a.createElement(l.b,{className:"".concat(ge.a.link),activeClassName:ge.a.active,to:"/inbox"},"\u0412\u0445\u043e\u0434\u044f\u0449\u0438\u0435")),c.a.createElement("li",{className:"".concat(ge.a.item)},c.a.createElement(l.b,{className:"".concat(ge.a.link),activeClassName:ge.a.active,to:"/today"},"\u0421\u0435\u0433\u043e\u0434\u043d\u044f")),c.a.createElement("li",{className:"".concat(ge.a.item)},c.a.createElement(l.b,{className:"".concat(ge.a.link),activeClassName:ge.a.active,to:"/calendar"},"\u041a\u0430\u043b\u0435\u043d\u0434\u0430\u0440\u044c"))))})),Oe=a(122),je=a.n(Oe),Te=a(123),Ne=a.n(Te),he=function(){return c.a.createElement("section",{className:Ne.a.preloader},c.a.createElement("img",{src:je.a,alt:"loading"}))},Ce=a(92),Fe=a.n(Ce),xe=Object(d.d)(n.memo)((function(e){var t=e.isDarkTheme,a=e.toggle;Object(k.a)(e,["isDarkTheme","toggle"]);return c.a.createElement("button",{className:"\n                ".concat(Fe.a.ToggleTheme," \n                ").concat(t?Fe.a.darkTheme:""," \n                btn"),onClick:a})})),ye=a(93),Ie=a.n(ye),ke=Object(d.d)(n.memo)((function(e){var t=e.isActiveNavbar,a=e.toggle;Object(k.a)(e,["isActiveNavbar","toggle"]);return c.a.createElement("button",{className:"\n                ".concat(Ie.a.ToggleNavbar,"\n                ").concat(t?Ie.a.active:"","\n                btn    \n            "),onClick:a})})),Se=a(40),Ae=a.n(Se),Be=Object(d.d)(n.memo)((function(e){Object.assign({},e);var t=Object(n.useState)(!1),a=Object(y.a)(t,2),o=a[0],r=a[1],l=Object(n.useState)(!1),s=Object(y.a)(l,2),d=s[0],m=s[1],u=Object(i.c)(),_=Object(i.d)((function(e){return e.app})).initialized;Object(n.useEffect)((function(){u(b())}),[u]);var v=function(e){e((function(e){return!e}))};return _?c.a.createElement("div",{className:"".concat(o?"darkTheme":""," ").concat(Ae.a.App)},c.a.createElement("header",{className:"".concat(Ae.a.header)},c.a.createElement("h1",{className:"visually-hidden"},"Todo list"),c.a.createElement(ke,{isActiveNavbar:d,toggle:function(){return v(m)}}),c.a.createElement(xe,{isDarkTheme:o,toggle:function(){return v(r)}})),d&&c.a.createElement(Ee,{className:Ae.a.nav}),c.a.createElement("main",{className:"".concat(Ae.a.main)},c.a.createElement("div",{className:"".concat(Ae.a.mainContainer)},c.a.createElement(I.c,null,c.a.createElement(I.a,{path:"/inbox",render:function(){return c.a.createElement(de,null)}}),c.a.createElement(I.a,{path:"/today",render:function(){return c.a.createElement(be,null)}}),c.a.createElement(I.a,{path:"/calendar",render:function(){return c.a.createElement(fe,null)}}),c.a.createElement(I.a,{path:"/",exact:!0,render:function(){return c.a.createElement(de,null)}}))))):c.a.createElement(he,null)}));a(255),a(256),a(257);r.a.render(c.a.createElement(l.a,{basename:"https://kirilovvladislav.github.io/todo-list/"},c.a.createElement(i.a,{store:x},c.a.createElement(Be,null))),document.getElementById("root"))},38:function(e,t,a){e.exports={Controls:"Controls_Controls__1QezX",openControls:"Controls_openControls__rHbhR",dot:"Controls_dot__Yq3iQ",controlsList:"Controls_controlsList__2aQVm",overlay:"Controls_overlay__rTsEp"}},39:function(e,t,a){e.exports={formControl:"FormsControls_formControl__1k-Ht",error:"FormsControls_error__bauyl"}},40:function(e,t,a){e.exports={App:"App_App__1JN69",nav:"App_nav__2qex2",header:"App_header__1Xt5M",main:"App_main__3N4Nf",mainContainer:"App_mainContainer__cKELM"}},65:function(e,t,a){e.exports={BtnAddTodo:"BtnAddTodo_BtnAddTodo__1bM5Y",iconAdd:"BtnAddTodo_iconAdd__eATYd"}},67:function(e,t,a){e.exports={Inbox:"Inbox_Inbox__2SPk2",headerContainer:"Inbox_headerContainer__2reLs",title:"Inbox_title__3qNZf"}},85:function(e,t,a){e.exports={SortBtn:"SortBtn_SortBtn__3Wzwt"}},88:function(e,t,a){e.exports={Today:"Today_Today__2YHcl",title:"Today_title__1wvys"}},89:function(e,t,a){e.exports={Calendar:"Calendar_Calendar__1iSjJ",title:"Calendar_title__3key4"}},92:function(e,t,a){e.exports={ToggleTheme:"ToggleTheme_ToggleTheme__b6XxB",darkTheme:"ToggleTheme_darkTheme__1w6mK"}},93:function(e,t,a){e.exports={ToggleNavbar:"ToggleNavbar_ToggleNavbar__CCFqz",active:"ToggleNavbar_active__g6Dii"}}},[[149,1,2]]]);
//# sourceMappingURL=main.ae6898be.chunk.js.map